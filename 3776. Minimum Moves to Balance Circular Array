class Solution {
public:
    long long minMoves(vector<int>& balance) {

        long long s = 0;
        long mi = 0;
        int i = 0, j = -1;
        for (auto x : balance) {
            if (x < 0) {
                mi = x;
                j = i;
            }
            s += x;
            i++;
        }
        i++;
        if (s < 0)
            return -1;

        long long h = 0;
        int n = balance.size();
        i = 1;
        int k = j;
        if(mi==0)return 0;

        while (1) {
            long long int jj = balance[(k - 1 + n) % n] + balance[(j + 1) % n];
            if (mi + jj <= 0) {
                h += i * jj;
                mi += jj;
                k--;
                j++;
            } else {
                h += i * abs(mi);
                break;
            }

            i++;
        }
        return h;
    }
};
